# Ubiquitous Language Glossary for airic-mesh

This document defines the key terms used in the `airic-mesh` project to ensure clear and precise communication between developers and stakeholders.

### Core Concepts

*   **Mesh**: The complete, trusted network of a user's devices that can communicate securely with each other.
*   **Device**: A single cryptographic identity within the **Mesh** (e.g., "My Laptop," "My Phone"). It is the fundamental **Entity**.
*   **Session**: A secure, encrypted, one-to-one communication channel between two **Devices**.
*   **Invitation**: An out-of-band token (e.g., a JSON string to be shown as a QR code) used to securely introduce a new **Device** to an existing one.

### Message Types

The relationship between message types is as follows: both `ApplicationMessage` and `ControlMessage` are considered the "payload" that gets encrypted. The resulting ciphertext is placed into a `WireMessage` for transport across the network.

*   **ApplicationMessage**: The actual user-level data (plaintext payload) that the end-application wants to send or receive. The **Mesh**'s purpose is to transport this securely.
*   **WireMessage**: The encrypted container that is actually sent "on the wire" (e.g., via MQTT). Its payload is the ciphertext.
*   **ControlMessage**: A message used internally by the **Mesh** protocol for management, not visible to the end-application. Its contents are encrypted and placed into a **WireMessage** for transport.
    *   **HandshakeMessage**: A specific type of **ControlMessage** generated by `vodozemac` to establish a new **Session**.
    *   **RevocationMessage**: A future type of **ControlMessage** used to notify all **Devices** in the **Mesh** that a specific **Device** is no longer trusted.

### Architectural Layers & Components

*   **Core Entities (Layer 1)**: The pure business objects of our domain (`Device`, `Session`, `ApplicationMessage`). They have no knowledge of databases, networks, or frameworks.
*   **Use Cases / Interactors (Layer 2)**: Classes that orchestrate the **Core Entities** to perform specific tasks (`ProvisionNewDevice`, `SendMessage`). They define the application's capabilities.
*   **Ports (Defined in Layer 2)**: The interfaces (`traits`) that define the contract between the **Use Cases** and the outside world (e.g., `MeshRepository` for persistence, `NetworkTransport` for communication).
*   **Adapters (Layer 3)**: The concrete implementations of the **Ports**. They "adapt" external technologies (like the filesystem or an MQTT client) to fit the needs of the application.
